*‡πÑ‡∏ü‡∏•‡πå `a.html` (BGM ‡πÄ‡∏•‡πà‡∏ô‡∏ï‡πà‡∏≠‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á‡∏¢‡∏≤‡∏ß‡πÜ ‡∏à‡∏ô‡∏à‡∏ö‡πÄ‡∏Å‡∏°)**

‡∏õ‡∏£‡∏±‡∏ö‡πÅ‡∏•‡πâ‡∏ß‡∏Ñ‡∏£‡∏±‡∏ö! **BGM (`b.mp3`) ‡∏à‡∏∞‡πÄ‡∏•‡πà‡∏ô loop ‡∏ï‡πà‡∏≠‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏ï‡πà‡∏Ñ‡∏•‡∏¥‡∏Å "‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏°‡πÅ‡∏•‡∏∞‡πÄ‡∏™‡∏µ‡∏¢‡∏á" ‡∏à‡∏ô‡∏Å‡∏ß‡πà‡∏≤‡∏à‡∏∞‡∏à‡∏ö‡πÄ‡∏Å‡∏° ‡πÅ‡∏•‡πâ‡∏ß‡∏Ñ‡πà‡∏≠‡∏¢‡∏´‡∏¢‡∏∏‡∏î + ‡πÄ‡∏•‡πà‡∏ô `end.mp3`**

```html
<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<title>‡πÄ‡∏Å‡∏°‡∏¢‡∏¥‡∏á‡∏à‡∏∏‡∏î‡πÇ‡∏ó‡∏© 2005-2006</title>
<style>
body {font-family:Tahoma;background:#111;color:#fff;text-align:center;margin:0;padding:0;}
.goal-container {position:relative;width:400px;height:220px;margin:20px auto;}
.goal-img {width:100%;height:100%;border:2px solid #fff;border-radius:10px;}
.shot-btn {position:absolute;background:rgba(255,255,255,0.85);border-radius:7px;padding:7px;font-weight:bold;cursor:pointer;border:none;font-size:14px;}
#tl {top:10px;left:20px;} #tr {top:10px;right:20px;}
#center {top:90px;left:50%;transform:translateX(-50%);}
#bl {bottom:10px;left:20px;} #br {bottom:10px;right:20px;}
#scoreBoard {margin-top:20px;font-size:20px;}
#modeSelect,#loadingScreen,#onlineScreen{position:fixed;top:0;left:0;width:100%;height:100%;background:#111;display:flex;flex-direction:column;justify-content:center;align-items:center;z-index:9999;}
#modeSelect button,#onlineScreen button{margin:10px;padding:15px 30px;font-size:18px;background:#c00;color:#fff;border:none;border-radius:8px;cursor:pointer;}
#loadingScreen{font-size:24px;}
#teamSelect,#gameScreen{display:none;}
#unlockScreen{display:flex;flex-direction:column;justify-content:center;align-items:center;position:fixed;top:0;left:0;width:100%;height:100%;background:#111;z-index:10000;}
#unlockBtn{padding:20px 40px;font-size:20px;background:#0a0;color:#fff;border:none;border-radius:10px;cursor:pointer;margin-top:20px;}
</style>
</head>
<body>

<!-- ‡∏´‡∏ô‡πâ‡∏≤‡∏õ‡∏•‡∏î‡∏•‡πá‡∏≠‡∏Å‡πÄ‡∏™‡∏µ‡∏¢‡∏á (‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å) -->
<div id="unlockScreen">
  <h1>‡πÄ‡∏Å‡∏°‡∏¢‡∏¥‡∏á‡∏à‡∏∏‡∏î‡πÇ‡∏ó‡∏© 2005‚Äì2006</h1>
  <p style="font-size:24px;margin:20px;">‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏™‡∏µ‡∏¢‡∏á üéµ</p>
  <button id="unlockBtn">‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏°‡πÅ‡∏•‡∏∞‡πÄ‡∏™‡∏µ‡∏¢‡∏á</button>
</div>

<!-- ‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÇ‡∏´‡∏°‡∏î -->
<div id="modeSelect" style="display:none;">
  <button onclick="startMode('bot')">‡πÄ‡∏•‡πà‡∏ô‡∏Å‡∏±‡∏ö‡∏ö‡∏≠‡∏ó</button>
  <button onclick="startMode('online')">‡πÄ‡∏•‡πà‡∏ô‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå</button>
</div>

<!-- ‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡πÇ‡∏´‡∏•‡∏î -->
<div id="loadingScreen" style="display:none;">
  <p>‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î...</p>
</div>

<!-- ‡∏´‡∏ô‡πâ‡∏≤‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå -->
<div id="onlineScreen" style="display:none;">
  <h1>‡πÄ‡∏Å‡∏°‡∏¢‡∏¥‡∏á‡∏à‡∏∏‡∏î‡πÇ‡∏ó‡∏© 2005‚Äì2006</h1>
  <p>‡πÇ‡∏´‡∏°‡∏î‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå (‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏û‡∏±‡∏í‡∏ô‡∏≤)</p>
  <button onclick="backToModeSelect()">‡∏Å‡∏•‡∏±‡∏ö</button>
</div>

<!-- ‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡∏µ‡∏° -->
<div id="teamSelect" style="display:none;">
<p>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡∏µ‡∏°‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</p>
<button onclick="selectTeam('Manchester United')">‡πÅ‡∏°‡∏ô‡πÄ‡∏ä‡∏™‡πÄ‡∏ï‡∏≠‡∏£‡πå ‡∏¢‡∏π‡πÑ‡∏ô‡πÄ‡∏ï‡πá‡∏î</button>
<button onclick="selectTeam('Liverpool')">‡∏•‡∏¥‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏û‡∏π‡∏•</button>
<button onclick="selectTeam('Arsenal')">‡∏≠‡∏≤‡∏£‡πå‡πÄ‡∏ã‡∏ô‡∏≠‡∏•</button>
<button onclick="selectTeam('Chelsea')">‡πÄ‡∏ä‡∏•‡∏ã‡∏µ</button>
</div>

<!-- ‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡πÄ‡∏Å‡∏° -->
<div id="gameScreen" style="display:none;">
<div id="scoreBoard">Score ‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡∏Ñ‡∏∑‡∏≠ 0 - 0</div>
<div class="goal-container">
<img src="https://i.imgur.com/v8hF1P8.png" class="goal-img">
<button id="tl" class="shot-btn" onclick="chooseDirection('TL')">‡∏°‡∏∏‡∏°‡∏ã‡πâ‡∏≤‡∏¢‡∏ö‡∏ô</button>
<button id="tr" class="shot-btn" onclick="chooseDirection('TR')">‡∏°‡∏∏‡∏°‡∏Ç‡∏ß‡∏≤‡∏ö‡∏ô</button>
<button id="center" class="shot-btn" onclick="chooseDirection('C')">‡∏ï‡∏£‡∏á‡∏Å‡∏•‡∏≤‡∏á</button>
<button id="bl" class="shot-btn" onclick="chooseDirection('BL')">‡∏°‡∏∏‡∏°‡∏ã‡πâ‡∏≤‡∏¢‡∏•‡πà‡∏≤‡∏á</button>
<button id="br" class="shot-btn" onclick="chooseDirection('BR')">‡∏°‡∏∏‡∏°‡∏Ç‡∏ß‡∏≤‡∏•‡πà‡∏≤‡∏á</button>
</div>
</div>

<div id="tts" aria-live="assertive" style="position:absolute;left:-9999px;"></div>

<script>
/* ===== ‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÅ‡∏ö‡∏ö dug.html (BGM loop ‡∏¢‡∏≤‡∏ß‡πÜ) ===== */
const audio = {
  b: new Audio('audio/b.mp3'),     // BGM (loop ‡∏ï‡∏•‡∏≠‡∏î‡πÄ‡∏Å‡∏°)
  t: new Audio('audio/t.mp3'),     // Goal
  f: new Audio('audio/f.mp3'),     // Miss  
  end: new Audio('audio/end.mp3')  // End game
};

// üî• BGM ‡πÄ‡∏•‡πà‡∏ô loop ‡∏ï‡πà‡∏≠‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á (‡πÑ‡∏°‡πà‡∏´‡∏¢‡∏∏‡∏î‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏¢‡∏¥‡∏á)
let bgmPlaying = false;
function playBGMLoop() {
  if (bgmPlaying) return; // ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡πÄ‡∏•‡πà‡∏ô‡∏ã‡πâ‡∏≥
  
  bgmPlaying = true;
  const bgm = audio.b;
  bgm.loop = true;
  bgm.volume = 0.3;  // ‡πÄ‡∏ö‡∏≤‡πÜ ‡πÄ‡∏õ‡πá‡∏ô background
  bgm.play().catch(e => console.error('BGM error:', e));
}

function stopBGM() {
  bgmPlaying = false;
  audio.b.pause();
  audio.b.currentTime = 0;
  audio.b.loop = false;
}

// ‡∏´‡∏¢‡∏∏‡∏î‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÄ‡∏≠‡∏ü‡πÄ‡∏ü‡∏Å‡∏ï‡πå (‡∏¢‡∏Å‡πÄ‡∏ß‡πâ‡∏ô BGM)
function stopSFX() {
  [audio.t, audio.f, audio.end].forEach(a => {
    a.pause();
    a.currentTime = 0;
  });
}

// ‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏≠‡∏ü‡πÄ‡∏ü‡∏Å‡∏ï‡πå‡∏ó‡∏±‡∏ö BGM (‡πÅ‡∏ö‡∏ö dug.html)
function playSFX(name, callback) {
  stopSFX();
  const a = audio[name];
  a.volume = 0.8;  // ‡∏î‡∏±‡∏á‡∏Å‡∏ß‡πà‡∏≤‡∏ö‡∏µ‡∏à‡∏µ
  a.onended = () => {
    a.onended = null;
    if (callback) callback();
  };
  a.play().catch(e => console.error('SFX error:', e));
}

/* ===== ‡∏õ‡∏•‡∏î‡∏•‡πá‡∏≠‡∏Å‡πÄ‡∏™‡∏µ‡∏¢‡∏á (‡∏Ñ‡∏•‡∏¥‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å) ===== */
let audioUnlocked = false;
document.getElementById('unlockBtn').addEventListener('click', function() {
  audioUnlocked = true;
  document.getElementById('unlockScreen').style.display = 'none';
  document.getElementById('modeSelect').style.display = 'flex';
  playBGMLoop();  // üî• BGM ‡πÄ‡∏£‡∏¥‡πà‡∏° loop ‡∏¢‡∏≤‡∏ß‡πÜ
});

/* ===== ‡πÄ‡∏Å‡∏° Logic ===== */
const squads = {
  "Manchester United": {"players":["‡πÅ‡∏Å‡∏£‡∏µ‡πà ‡πÄ‡∏ô‡∏ß‡∏¥‡∏•‡∏•‡πå","‡∏£‡∏¥‡πÇ‡∏≠ ‡πÄ‡∏ü‡∏≠‡∏£‡πå‡∏î‡∏¥‡∏ô‡∏≤‡∏ô‡∏î‡πå","‡πÄ‡∏ß‡∏™ ‡∏ö‡∏£‡∏≤‡∏ß‡∏ô‡πå","‡∏õ‡∏≤‡∏ó‡∏£‡∏¥‡∏ã ‡πÄ‡∏≠‡∏ü‡∏£‡πà‡∏≤","‡∏Ñ‡∏£‡∏¥‡∏™‡πÄ‡∏ï‡∏µ‡∏¢‡πÇ‡∏ô‡πà ‡πÇ‡∏£‡∏ô‡∏±‡∏•‡πÇ‡∏î‡πâ","‡∏û‡∏≠‡∏• ‡∏™‡πÇ‡∏Ñ‡∏•‡∏™‡πå","‡∏à‡∏≠‡∏´‡πå‡∏ô ‡πÇ‡∏≠‡πÄ‡∏ä","‡πÑ‡∏£‡∏≠‡∏±‡∏ô ‡∏Å‡∏¥‡πä‡∏Å‡∏™‡πå","‡πÄ‡∏ß‡∏¢‡πå‡∏ô ‡∏£‡∏π‡∏ô‡∏µ‡πà‡∏¢‡πå","‡∏£‡∏∏‡∏î ‡∏ü‡∏≤‡∏ô ‡∏ô‡∏¥‡∏™‡πÄ‡∏ó‡∏•‡∏£‡∏≠‡∏¢"],"keeper":"‡πÄ‡∏≠‡πá‡∏î‡∏ß‡∏¥‡∏ô ‡∏ü‡∏≤‡∏ô ‡πÄ‡∏î‡∏≠‡∏£‡πå ‡∏ã‡∏≤‡∏£‡πå"},
  "Liverpool": {"players":["‡∏™‡∏ï‡∏µ‡∏ü ‡∏ü‡∏¥‡∏ô‡πÅ‡∏ô‡∏ô","‡πÄ‡∏à‡∏°‡∏µ‡πà ‡∏Ñ‡∏≤‡∏£‡πå‡∏£‡∏≤‡πÄ‡∏Å‡∏≠‡∏£‡πå","‡∏ã‡∏≤‡∏°‡∏µ‡πà ‡∏Æ‡∏π‡πÄ‡∏õ‡∏µ‡∏¢","‡∏à‡∏≠‡∏´‡πå‡∏ô ‡∏≠‡∏≤‡∏£‡πå‡πÄ‡∏ô‡πà ‡∏£‡∏µ‡πÄ‡∏ã‡πà","‡∏ã‡∏≤‡∏ö‡∏µ ‡∏≠‡∏•‡∏≠‡∏ô‡πÇ‡∏ã‡πà","‡πÇ‡∏°‡∏Æ‡∏≤‡πÄ‡∏´‡∏°‡πá‡∏î ‡∏ã‡∏¥‡∏™‡πÇ‡∏ã‡πÇ‡∏Å‡πâ","‡∏™‡∏ï‡∏µ‡πÄ‡∏ß‡πà‡∏ô ‡πÄ‡∏à‡∏≠‡∏£‡πå‡∏£‡∏≤‡∏£‡πå‡∏î","‡∏´‡∏•‡∏∏‡∏¢‡∏™‡πå ‡∏Å‡∏≤‡∏£‡πå‡πÄ‡∏ã‡∏µ‡∏¢","‡∏õ‡∏µ‡πÄ‡∏ï‡∏≠‡∏£‡πå ‡πÄ‡∏Ñ‡∏£‡πâ‡∏≤‡∏ä‡πå","‡∏å‡∏¥‡∏ö‡∏£‡∏¥‡∏• ‡∏ã‡∏¥‡∏™‡πÄ‡∏ã‡πà"],"keeper":"‡πÄ‡∏õ‡πÄ‡∏õ‡πâ ‡πÄ‡∏£‡∏ô‡πà‡∏≤"},
  "Arsenal": {"players":["‡πÄ‡∏≠‡πá‡∏°‡∏°‡∏≤‡∏ô‡∏π‡πÄ‡∏≠‡∏• ‡πÄ‡∏≠‡∏ö‡∏π‡πÄ‡∏≠‡πâ","‡πÇ‡∏Ñ‡πÇ‡∏• ‡∏ï‡∏π‡πÄ‡∏£‡πà","‡πÇ‡∏ã‡∏• ‡πÅ‡∏Ñ‡∏°‡πÄ‡∏ö‡∏•","‡πÅ‡∏≠‡∏ä‡∏•‡∏µ‡∏¢‡πå ‡πÇ‡∏Ñ‡∏•","‡∏≠‡πÄ‡∏•‡πá‡∏Å‡∏ã‡∏≤‡∏ô‡πÄ‡∏î‡∏≠‡∏£‡πå ‡πÄ‡∏Ñ‡∏•‡πá‡∏ö","‡∏å‡∏¥‡∏•‡πÅ‡∏ö‡∏£‡πå‡πÇ‡∏ï‡πâ ‡∏ã‡∏¥‡∏•‡∏ß‡∏≤","‡πÄ‡∏ä‡∏™ ‡∏ü‡∏≤‡πÄ‡∏ö‡∏£‡∏Å‡∏±‡∏™","‡πÇ‡∏£‡πÅ‡∏ö‡∏£‡πå ‡∏õ‡∏¥‡πÅ‡∏£‡∏™","‡πÄ‡∏ü‡∏£‡∏î‡∏£‡∏¥‡∏Å ‡∏•‡∏∏‡∏á‡πÄ‡∏ö‡∏¥‡∏£‡πå‡∏Å","‡πÄ‡∏ò‡∏µ‡∏¢‡∏£‡πå‡∏£‡∏µ‡πà ‡∏≠‡∏≠‡∏á‡∏£‡∏µ"],"keeper":"‡πÄ‡∏¢‡∏ô‡∏™‡πå ‡πÄ‡∏•‡∏´‡πå‡∏°‡∏±‡∏ô‡∏ô‡πå"},
  "Chelsea": {"players":["‡πÄ‡∏õ‡∏≤‡πÇ‡∏• ‡πÄ‡∏ü‡∏£‡πå‡πÄ‡∏£‡∏£‡πà‡∏≤","‡∏£‡∏¥‡∏Ñ‡∏≤‡∏£‡πå‡πÇ‡∏î‡πâ ‡∏Ñ‡∏≤‡∏£‡πå‡∏ß‡∏±‡∏•‡πÇ‡∏ç‡πà","‡∏à‡∏≠‡∏´‡πå‡∏ô ‡πÄ‡∏ó‡∏≠‡∏£‡πå‡∏£‡∏µ‡πà","‡∏ß‡∏¥‡∏•‡πÄ‡∏•‡∏µ‡∏¢‡∏° ‡∏Å‡∏±‡∏•‡∏•‡∏≤‡∏™","‡πÇ‡∏Ñ‡∏•‡πâ‡∏î ‡∏°‡∏≤‡πÄ‡∏Å‡πÄ‡∏•‡πÄ‡∏•‡πà","‡∏°‡∏¥‡∏Ñ‡∏≤‡πÄ‡∏≠‡∏• ‡πÄ‡∏≠‡∏™‡πÄ‡∏ã‡∏µ‡∏¢‡∏á","‡πÅ‡∏ü‡∏£‡∏á‡∏Å‡πå ‡πÅ‡∏•‡∏°‡∏û‡∏≤‡∏£‡πå‡∏î","‡πÇ‡∏à ‡πÇ‡∏Ñ‡∏•","‡∏≠‡∏≤‡∏£‡πå‡πÄ‡∏¢‡∏ô ‡∏£‡πá‡πá‡∏≠‡∏ö‡πÄ‡∏ö‡∏ô","‡πÄ‡∏Æ‡∏≠‡∏£‡πå‡∏ô‡∏±‡∏ô ‡πÄ‡∏Ñ‡∏£‡∏™‡πÇ‡∏õ"],"keeper":"‡∏õ‡∏µ‡πÄ‡∏ï‡∏≠‡∏£‡πå ‡πÄ‡∏ä‡πá‡∏Å"}
};

let userTeam, cpuTeam, score=0, oppScore=0, turn=0, isSudden=false, shotIndexUser=0, shotIndexCPU=0;
let userShotsOrder=[], cpuShotsOrder=[], shooterTeam="", shooterName="";

function speak(t){ document.getElementById("tts").innerText=t; }

function shuffle(a){for(let i=a.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1));[a[i],a[j]]=[a[j],a[i]];}return a;}

function createShotsOrder(team){let p=squads[team].players.slice();shuffle(p);p.push(squads[team].keeper);return p;}

function backToModeSelect(){document.getElementById('onlineScreen').style.display='none';document.getElementById('modeSelect').style.display='flex';}

function startMode(mode){
  document.getElementById('modeSelect').style.display='none';
  document.getElementById('loadingScreen').style.display='flex';
  setTimeout(()=>{ 
    document.getElementById('loadingScreen').style.display='none';
    if(mode==='bot') document.getElementById('teamSelect').style.display='block';
    else document.getElementById('onlineScreen').style.display='flex';
  }, 500);
}

function selectTeam(team){
  userTeam=team; const remain=Object.keys(squads).filter(t=>t!==team); cpuTeam=remain[Math.floor(Math.random()*remain.length)];
  document.getElementById('teamSelect').style.display='none'; document.getElementById('gameScreen').style.display='block';
  userShotsOrder=createShotsOrder(userTeam); cpuShotsOrder=createShotsOrder(cpuTeam);
  score=0; oppScore=0; turn=0; shotIndexUser=0; shotIndexCPU=0; isSudden=false;
  updateScoreboard(); startTurn();
  // üî• BGM ‡∏¢‡∏±‡∏á‡πÄ‡∏•‡πà‡∏ô‡∏ï‡πà‡∏≠‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á (‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà)
}

function getShooter(team,orderList,idxObj){
  if(idxObj.value>=orderList.length){orderList=createShotsOrder(team);idxObj.value=0;}
  return {name:orderList[idxObj.value],list:orderList};
}

function startTurn(){
  if(turn===0){
    const ref={value:shotIndexUser}; const d=getShooter(userTeam,userShotsOrder,ref);
    shooterTeam=userTeam; shooterName=d.name; userShotsOrder=d.list; shotIndexUser=ref.value;
    speak(`‡∏•‡∏π‡∏Å‡∏ó‡∏µ‡πà ${shotIndexUser+1} ${shooterTeam}: ${shooterName} ‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏¢‡∏¥‡∏á`);
  }else{
    const ref={value:shotIndexCPU}; const d=getShooter(cpuTeam,cpuShotsOrder,ref);
    shooterTeam=cpuTeam; shooterName=d.name; cpuShotsOrder=d.list; shotIndexCPU=ref.value;
    const keeper=squads[userTeam].keeper;
    speak(`‡∏•‡∏π‡∏Å‡∏ó‡∏µ‡πà ${shotIndexCPU+1} ${shooterTeam}: ${shooterName} ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏¢‡∏¥‡∏á ${keeper} ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÄ‡∏ã‡∏ü`);
  }
}

function chooseDirection(dir){
  const keeperDir=["TL","TR","C","BL","BR"][Math.floor(Math.random()*5)];
  const isGoal=dir!==keeperDir;
  const res=`${shooterName} ${shooterTeam} ‡∏¢‡∏¥‡∏á${isGoal?"‡πÄ‡∏Ç‡πâ‡∏≤":"‡πÑ‡∏°‡πà‡πÄ‡∏Ç‡πâ‡∏≤"}!`;
  
  if(turn===0) score+=isGoal?1:0; else oppScore+=isGoal?1:0;
  speak(res+` Score ${score}-${oppScore}`); updateScoreboard();
  
  // üî• ‡πÄ‡∏•‡πà‡∏ô SFX ‡∏ó‡∏±‡∏ö BGM (BGM ‡∏¢‡∏±‡∏á loop ‡∏ï‡πà‡∏≠)
  playSFX(isGoal?'t':'f');
  
  setTimeout(()=>{
    if(turn===0) shotIndexUser++; else shotIndexCPU++;
    checkGameEndOrNext();
  },900);
}

function checkGameEndOrNext(){
  const rU=5-shotIndexUser, rC=5-shotIndexCPU; let end=false;
  if(!isSudden){
    if(score-oppScore>rC) end=true;
    else if(oppScore-score>rU) end=true;
    else if(shotIndexUser>=5&&shotIndexCPU>=5&&score===oppScore){isSudden=true;speak("‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏ã‡∏±‡∏î‡πÄ‡∏î‡∏ô‡πÄ‡∏î‡∏ò!");}
  }else if(turn===1&&score!==oppScore) end=true;
  
  if(end){
    // üî• ‡∏´‡∏¢‡∏∏‡∏î BGM + ‡πÄ‡∏•‡πà‡∏ô end.mp3
    stopBGM();
    playSFX('end',()=>{
      const msg=score>oppScore?`${userTeam} ‡∏ä‡∏ô‡∏∞!`:`${cpuTeam} ‡∏ä‡∏ô‡∏∞!`;
      speak(msg);
      setTimeout(()=>{alert(msg);resetGame();},700);
    });
  }else{
    turn=1-turn; setTimeout(startTurn,1000);
  }
}

function updateScoreboard(){document.getElementById('scoreBoard').innerText=`Score ‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡∏Ñ‡∏∑‡∏≠ ${score}-${oppScore}`;}

function resetGame(){
  stopBGM();
  document.getElementById('gameScreen').style.display='none';
  document.getElementById('teamSelect').style.display='none';
  document.getElementById('modeSelect').style.display='flex';
  score=0;oppScore=0;turn=0;shotIndexUser=0;shotIndexCPU=0;isSudden=false;userShotsOrder=[];cpuShotsOrder=[];
  updateScoreboard();
}
</script>
</body>
</html>