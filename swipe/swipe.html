<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <title>Swipe ‚Äî Audio-only Gesture Game</title>
  <style>
    body {
      background: black;
      color: white;
      font-family: sans-serif;
      text-align: center;
      padding: 2rem;
    }
    button {
      font-size: 1.5rem;
      padding: 1rem 2rem;
      border-radius: 1rem;
      border: none;
      background: #444;
      color: white;
    }
  </style>
</head>
<body>
  <h1>üéÆ ‡πÄ‡∏Å‡∏°‡∏õ‡∏±‡∏î</h1>
  <p>‡∏õ‡∏¥‡∏î VoiceOver ‡∏Å‡πà‡∏≠‡∏ô ‡πÅ‡∏•‡πâ‡∏ß‡πÅ‡∏ï‡∏∞‡∏õ‡∏∏‡πà‡∏°‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏°</p>
  <button id="startBtn">‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏°</button>
  <audio id="beep" src="beep.mp3" preload="auto"></audio>
  <audio id="correct" src="correct.mp3" preload="auto"></audio>
  <audio id="wrong" src="wrong.mp3" preload="auto"></audio>

  <script>
    const startBtn = document.getElementById('startBtn');
    const beep = document.getElementById('beep');
    const correct = document.getElementById('correct');
    const wrong = document.getElementById('wrong');

    let gameStarted = false;
    let expectedDirection = null;

    function playRandomDirection() {
      const directions = ['‡∏Ç‡∏∂‡πâ‡∏ô', '‡∏•‡∏á', '‡∏ã‡πâ‡∏≤‡∏¢', '‡∏Ç‡∏ß‡∏≤'];
      expectedDirection = directions[Math.floor(Math.random() * directions.length)];
      const msg = new SpeechSynthesisUtterance("‡∏õ‡∏±‡∏î " + expectedDirection);
      speechSynthesis.speak(msg);
    }

    function handleGesture(direction) {
      if (!gameStarted) return;
      if (direction === expectedDirection) {
        correct.play();
        playRandomDirection();
      } else {
        wrong.play();
      }
    }

    // ‡πÉ‡∏ä‡πâ touchstart + touchend ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏à‡∏±‡∏ö‡∏ó‡∏¥‡∏®‡∏ó‡∏≤‡∏á
    let startX = 0;
    let startY = 0;

    document.addEventListener('touchstart', e => {
      const t = e.changedTouches[0];
      startX = t.clientX;
      startY = t.clientY;
    });

    document.addEventListener('touchend', e => {
      const t = e.changedTouches[0];
      const dx = t.clientX - startX;
      const dy = t.clientY - startY;

      if (Math.abs(dx) > Math.abs(dy)) {
        if (dx > 50) handleGesture('‡∏Ç‡∏ß‡∏≤');
        else if (dx < -50) handleGesture('‡∏ã‡πâ‡∏≤‡∏¢');
      } else {
        if (dy > 50) handleGesture('‡∏•‡∏á');
        else if (dy < -50) handleGesture('‡∏Ç‡∏∂‡πâ‡∏ô');
      }
    });

    startBtn.addEventListener('click', () => {
      gameStarted = true;
      beep.play();
      setTimeout(playRandomDirection, 1000);
    });
  </script>
</body>
</html>
