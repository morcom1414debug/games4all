<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡∏†‡∏≤‡∏£‡∏Å‡∏¥‡∏à‡πÉ‡∏´‡πâ‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏ô‡πâ‡∏≠‡∏á‡πÄ‡∏´‡∏°‡∏µ‡∏¢‡∏ß</title>
	<script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/tone@14.9.15/build/Tone.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap');

        :root {
            --primary-color: #FFC0CB; /* Pink */
            --secondary-color: #FFD700; /* Gold */
            --bg-color: #F8F4E3; /* Creamy white */
            --text-color: #333;
            --success-color: #4CAF50;
            --failure-color: #F44336;
        }

        body {
            font-family: 'Sarabun', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
            text-align: center;
        }

        .game-container {
            background-color: #fff;
            border-radius: 25px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            padding: 30px;
            display: flex;
            flex-direction: column;
            align-items: center;
            max-width: 600px;
            width: 100%;
        }

        .stage-info {
            font-size: 1.2rem;
            font-weight: 700;
            margin-bottom: 20px;
            color: #888;
        }

        .cat-display {
            font-size: 100px;
            margin-bottom: 20px;
            transition: transform 0.3s ease-in-out;
        }
        
        .cat-display.bounce {
            animation: bounce 0.5s;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .game-message {
            font-size: 1.5rem;
            font-weight: 700;
            min-height: 40px;
            margin-bottom: 20px;
            color: var(--text-color);
        }

        .message-success {
            color: var(--success-color);
        }

        .message-failure {
            color: var(--failure-color);
        }

        .button-container {
            display: flex;
            flex-direction: column;
            gap: 10px;
            width: 100%;
        }

        .game-button, .answer-button {
            background: linear-gradient(135deg, var(--primary-color), #FF69B4);
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 1.2rem;
            font-weight: 700;
            border-radius: 50px;
            cursor: pointer;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            transition: transform 0.2s, box-shadow 0.2s;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
        }

        .answer-button {
            padding: 10px 20px;
            font-size: 1rem;
        }

        .game-button:hover, .answer-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.25);
        }

        .game-button:active, .answer-button:active {
            transform: translateY(0);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .hidden {
            display: none;
        }

        /* Visually hidden but readable by screen readers */
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            border: 0;
        }
    </style>
</head>
<body>

    <div class="game-container" role="main">
		<button class="flex items-center rounded-md border border-slate-300 py-2 px-4 text-center text-sm transition-all shadow-sm hover:shadow-lg text-slate-600 hover:text-white hover:bg-slate-800 hover:border-slate-800 focus:text-white focus:bg-slate-800 focus:border-slate-800 active:border-slate-800 active:text-white active:bg-slate-800 disabled:pointer-events-none disabled:opacity-50 disabled:shadow-none" type="button" onclick="location.href='index.html'">
			‡∏Å‡∏•‡∏±‡∏ö‡πÄ‡∏°‡∏ô‡∏π‡∏´‡∏•‡∏±‡∏Å
		   <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-4 h-4 ml-1.5">
			<path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd" />
		  </svg>
		</button>
		<h1>‡∏†‡∏≤‡∏£‡∏Å‡∏¥‡∏à‡πÉ‡∏´‡πâ‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏ô‡πâ‡∏≠‡∏á‡πÄ‡∏´‡∏°‡∏µ‡∏¢‡∏ß</h1>
		        <!-- aria-live is crucial for screen readers to announce changes -->
        <div id="announcement-region" class="sr-only" aria-live="polite"></div>

        <div id="stage-info" class="stage-info"></div>
        <div id="cat-emoji" class="cat-display" aria-label="Cat emoji">üò∫</div>
        <div id="game-message" class="game-message"></div>
        
        <div id="start-button-container">
            <button id="start-button" class="game-button">‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏†‡∏≤‡∏£‡∏Å‡∏¥‡∏à</button>
        </div>

        <div id="answer-buttons-container" class="button-container hidden"></div>
        
    </div>

    <script>
        // Game state variables
        let currentStage = -1;
        let isGameOver = false;

        // UI elements
        const announcementRegion = document.getElementById('announcement-region');
        const stageInfo = document.getElementById('stage-info');
        const catEmoji = document.getElementById('cat-emoji');
        const gameMessage = document.getElementById('game-message');
        const startButtonContainer = document.getElementById('start-button-container');
        const answerButtonsContainer = document.getElementById('answer-buttons-container');
        const startButton = document.getElementById('start-button');

        // Game data for all 5 missions
        const missions = [
            {
                prompt: '‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏£‡∏Å‡∏ó‡∏µ‡πà‡∏Ñ‡∏ß‡∏£‡∏ó‡∏≥‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏ô‡πâ‡∏≠‡∏á‡πÄ‡∏´‡∏°‡∏µ‡∏¢‡∏ß‡∏Ñ‡∏∑‡∏≠‡∏≠‡∏∞‡πÑ‡∏£?',
                answers: [
                    { text: '‡∏≠‡πà‡∏≤‡∏ô‡∏â‡∏•‡∏≤‡∏Å‡πÅ‡∏•‡∏∞‡∏ß‡∏±‡∏ô‡∏´‡∏°‡∏î‡∏≠‡∏≤‡∏¢‡∏∏', isCorrect: true },
                    { text: '‡∏û‡∏≤‡πÑ‡∏õ‡∏ß‡∏¥‡πà‡∏á‡πÄ‡∏•‡πà‡∏ô‡∏Å‡πà‡∏≠‡∏ô', isCorrect: false },
                    { text: '‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î‡∏ö‡πâ‡∏≤‡∏ô', isCorrect: false }
                ],
                successMessage: '‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á! ‡∏Å‡∏≤‡∏£‡∏≠‡πà‡∏≤‡∏ô‡∏â‡∏•‡∏≤‡∏Å‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏¥‡πà‡∏á‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢‡∏Ç‡∏≠‡∏á‡∏ô‡πâ‡∏≠‡∏á‡πÄ‡∏´‡∏°‡∏µ‡∏¢‡∏ß',
                catEmoji: 'üò∏',
                foodEmoji: 'üçΩÔ∏è'
            },
            {
                prompt: '‡∏Ñ‡∏ß‡∏£‡πÉ‡∏´‡πâ‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÅ‡∏°‡∏ß‡πÉ‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏ö‡∏ö‡πÑ‡∏´‡∏ô?',
                answers: [
                    { text: '‡πÉ‡∏ô‡∏´‡πâ‡∏≠‡∏á‡∏Ñ‡∏£‡∏±‡∏ß‡∏ó‡∏µ‡πà‡∏ß‡∏∏‡πà‡∏ô‡∏ß‡∏≤‡∏¢', isCorrect: false },
                    { text: '‡πÉ‡∏ô‡∏°‡∏∏‡∏°‡∏ó‡∏µ‡πà‡∏™‡∏á‡∏ö‡πÅ‡∏•‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß', isCorrect: true },
                    { text: '‡∏Ç‡πâ‡∏≤‡∏á‡∏Å‡∏£‡∏∞‡∏ö‡∏∞‡∏ó‡∏£‡∏≤‡∏¢', isCorrect: false }
                ],
                successMessage: '‡∏¢‡∏≠‡∏î‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏°! ‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡πâ‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÉ‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏á‡∏ö‡∏ä‡πà‡∏ß‡∏¢‡∏•‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Ñ‡∏£‡∏µ‡∏¢‡∏î‡πÅ‡∏•‡∏∞‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏ô‡πâ‡∏≠‡∏á‡πÄ‡∏´‡∏°‡∏µ‡∏¢‡∏ß‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∏‡∏Ç',
                catEmoji: 'üò∏',
                foodEmoji: 'ü•£'
            },
            {
                prompt: '‡∏´‡∏≤‡∏Å‡∏ô‡πâ‡∏≠‡∏á‡πÄ‡∏´‡∏°‡∏µ‡∏¢‡∏ß‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏î‡∏π‡πÑ‡∏°‡πà‡∏™‡∏ö‡∏≤‡∏¢ ‡∏à‡∏∞‡∏ó‡∏≥‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£‡∏Å‡∏±‡∏ö‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏Ç‡∏≠‡∏á‡∏°‡∏±‡∏ô?',
                answers: [
                    { text: '‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏õ‡∏£‡∏∏‡∏á‡∏£‡∏™‡πÉ‡∏´‡πâ‡∏Å‡∏¥‡∏ô‡∏á‡πà‡∏≤‡∏¢‡∏Ç‡∏∂‡πâ‡∏ô', isCorrect: false },
                    { text: '‡πÉ‡∏´‡πâ‡∏Å‡∏¥‡∏ô‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°', isCorrect: false },
                    { text: '‡∏õ‡∏£‡∏∂‡∏Å‡∏©‡∏≤‡∏™‡∏±‡∏ï‡∏ß‡πÅ‡∏û‡∏ó‡∏¢‡πå‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ç‡∏≠‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥', isCorrect: true }
                ],
                successMessage: '‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏°‡∏°‡∏≤‡∏Å! ‡∏Ñ‡∏ß‡∏£‡∏õ‡∏£‡∏∂‡∏Å‡∏©‡∏≤‡∏™‡∏±‡∏ï‡∏ß‡πÅ‡∏û‡∏ó‡∏¢‡πå‡∏ó‡∏±‡∏ô‡∏ó‡∏µ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ô‡πâ‡∏≠‡∏á‡πÄ‡∏´‡∏°‡∏µ‡∏¢‡∏ß‡∏õ‡πà‡∏ß‡∏¢ ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏±‡∏ö‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á',
                catEmoji: 'üò∏',
                foodEmoji: 'üêü'
            },
            {
                prompt: '‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡∏ô‡πâ‡∏≠‡∏á‡πÄ‡∏´‡∏°‡∏µ‡∏¢‡∏ß‡∏ó‡∏≤‡∏ô‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß ‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡∏Ñ‡∏ß‡∏£‡∏ó‡∏≥‡∏Ñ‡∏∑‡∏≠?',
                answers: [
                    { text: '‡∏õ‡∏•‡πà‡∏≠‡∏¢‡∏ä‡∏≤‡∏°‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏ó‡∏¥‡πâ‡∏á‡πÑ‡∏ß‡πâ', isCorrect: false },
                    { text: '‡∏£‡∏µ‡∏ö‡πÉ‡∏´‡πâ‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏°‡∏∑‡πâ‡∏≠‡∏ï‡πà‡∏≠‡πÑ‡∏õ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ', isCorrect: false },
                    { text: '‡∏•‡πâ‡∏≤‡∏á‡∏ä‡∏≤‡∏°‡πÉ‡∏´‡πâ‡∏™‡∏∞‡∏≠‡∏≤‡∏î', isCorrect: true }
                ],
                successMessage: '‡πÄ‡∏Å‡πà‡∏á‡∏°‡∏≤‡∏Å! ‡∏Å‡∏≤‡∏£‡∏•‡πâ‡∏≤‡∏á‡∏ä‡∏≤‡∏°‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ä‡πà‡∏ß‡∏¢‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡πÅ‡∏ö‡∏Ñ‡∏ó‡∏µ‡πÄ‡∏£‡∏µ‡∏¢‡πÅ‡∏•‡∏∞‡πÇ‡∏£‡∏Ñ‡∏ï‡πà‡∏≤‡∏á‡πÜ',
                catEmoji: 'üò∏',
                foodEmoji: 'üçó'
            },
            {
                prompt: '‡∏Ñ‡∏∏‡∏ì‡∏Ñ‡∏ß‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏ô‡πâ‡∏≥‡πÉ‡∏ô‡∏ä‡∏≤‡∏°‡∏ô‡πâ‡∏≥‡∏Ç‡∏≠‡∏á‡∏ô‡πâ‡∏≠‡∏á‡πÄ‡∏´‡∏°‡∏µ‡∏¢‡∏ß‡∏ö‡πà‡∏≠‡∏¢‡πÅ‡∏Ñ‡πà‡πÑ‡∏´‡∏ô?',
                answers: [
                    { text: '‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå‡∏•‡∏∞‡∏Ñ‡∏£‡∏±‡πâ‡∏á', isCorrect: false },
                    { text: '‡∏ß‡∏±‡∏ô‡∏•‡∏∞‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ô‡πâ‡∏≥‡∏™‡∏Å‡∏õ‡∏£‡∏Å', isCorrect: true },
                    { text: '‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏´‡πá‡∏ô‡∏ß‡πà‡∏≤‡∏ô‡πâ‡∏≥‡πÉ‡∏ô‡∏ä‡∏≤‡∏°‡∏´‡∏°‡∏î', isCorrect: false }
                ],
                successMessage: '‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå‡πÅ‡∏ö‡∏ö! ‡∏ô‡πâ‡∏≥‡∏™‡∏∞‡∏≠‡∏≤‡∏î‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏¥‡πà‡∏á‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û‡∏ó‡∏µ‡πà‡∏î‡∏µ‡πÅ‡∏•‡∏∞‡∏ä‡πà‡∏ß‡∏¢‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏†‡∏≤‡∏ß‡∏∞‡∏Ç‡∏≤‡∏î‡∏ô‡πâ‡∏≥',
                catEmoji: 'üò∏',
                foodEmoji: 'üíß'
            }
        ];

        // Tone.js for sounds
        const successSynth = new Tone.Synth({
            oscillator: { type: 'triangle' },
            envelope: {
                attack: 0.05,
                decay: 0.3,
                sustain: 0.1,
                release: 0.5,
            }
        }).toDestination();

        const failureSynth = new Tone.Synth({
            oscillator: { type: 'sawtooth' },
            envelope: {
                attack: 0.01,
                decay: 0.1,
                sustain: 0,
                release: 0.2,
            }
        }).toDestination();

        // Function to announce a message for screen readers
        function announce(message) {
            announcementRegion.textContent = message;
        }

        // Function to play sound for success
        function playSuccessSound() {
            successSynth.triggerAttackRelease("C5", "8n");
            successSynth.triggerAttackRelease("E5", "8n", "+0.2");
            successSynth.triggerAttackRelease("G5", "8n", "+0.4");
        }

        // Function to play sound for failure
        function playFailureSound() {
            failureSynth.triggerAttackRelease("A3", "8n");
            failureSynth.triggerAttackRelease("E3", "8n", "+0.2");
        }

        // Function to initialize or restart the game
        function initializeGame() {
            currentStage = -1; // -1 indicates initial state
            isGameOver = false;
            catEmoji.textContent = 'üò∫';
            gameMessage.textContent = '‡∏ô‡πâ‡∏≠‡∏á‡πÄ‡∏´‡∏°‡∏µ‡∏¢‡∏ß‡∏´‡∏¥‡∏ß‡πÅ‡∏•‡πâ‡∏ß! ‡∏ä‡πà‡∏ß‡∏¢‡∏´‡∏≤‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÉ‡∏´‡πâ‡∏´‡∏ô‡πà‡∏≠‡∏¢';
            stageInfo.textContent = '';
            startButtonContainer.classList.remove('hidden');
            answerButtonsContainer.classList.add('hidden');
            gameMessage.classList.remove('message-success', 'message-failure');
            announce('‡πÄ‡∏Å‡∏°‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô. ‡∏ô‡πâ‡∏≠‡∏á‡πÄ‡∏´‡∏°‡∏µ‡∏¢‡∏ß‡∏´‡∏¥‡∏ß‡πÅ‡∏•‡πâ‡∏ß. ‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏†‡∏≤‡∏£‡∏Å‡∏¥‡∏à');
        }

        // Function to start the next mission stage
        function startMission() {
            currentStage++;
            
            if (currentStage >= missions.length) {
                completeGame();
                return;
            }

            const mission = missions[currentStage];
            
            stageInfo.textContent = `‡∏†‡∏≤‡∏£‡∏Å‡∏¥‡∏à‡∏ó‡∏µ‡πà ${currentStage + 1} / ${missions.length}`;
            gameMessage.textContent = mission.prompt;
            catEmoji.textContent = 'üò∫'; // Happy cat at the start of each mission
            gameMessage.classList.remove('message-success', 'message-failure');
            
            startButtonContainer.classList.add('hidden');
            answerButtonsContainer.classList.remove('hidden');
            answerButtonsContainer.innerHTML = '';
            
            mission.answers.forEach(answer => {
                const button = document.createElement('button');
                button.textContent = answer.text;
                button.classList.add('answer-button');
                button.setAttribute('data-is-correct', answer.isCorrect);
                button.addEventListener('click', handleAnswer);
                answerButtonsContainer.appendChild(button);
            });
            
            // Announce only the mission number for screen readers
            announce(`‡∏†‡∏≤‡∏£‡∏Å‡∏¥‡∏à‡∏ó‡∏µ‡πà ${currentStage + 1} ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Ç‡∏∂‡πâ‡∏ô‡πÅ‡∏•‡πâ‡∏ß.`);
        }

        // Function to handle the answer click
        function handleAnswer(event) {
            const isCorrect = event.target.getAttribute('data-is-correct') === 'true';

            if (isCorrect) {
                succeedMission();
            } else {
                failMission();
            }
        }

        // Function to handle mission success
        function succeedMission() {
            playSuccessSound();
            const mission = missions[currentStage];
            
            // Show success animation and message
            catEmoji.textContent = `${mission.catEmoji}${mission.foodEmoji}`;
            gameMessage.textContent = mission.successMessage;
            gameMessage.classList.add('message-success');

            // Clear and hide all answer buttons
            answerButtonsContainer.innerHTML = '';
            
            // Automatically start the next mission after a delay
            setTimeout(() => {
                startMission();
            }, 2000); // 2-second delay to show the success screen
            
            announce(`‡∏ô‡πâ‡∏≠‡∏á‡πÄ‡∏´‡∏°‡∏µ‡∏¢‡∏ß‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏î‡∏µ‡πÉ‡∏à. ${mission.successMessage}`);
        }

        // Function to handle mission failure
        function failMission() {
            playFailureSound();
            isGameOver = true;
            catEmoji.textContent = 'üòø'; // Sad cat
            gameMessage.textContent = '‡∏†‡∏≤‡∏£‡∏Å‡∏¥‡∏à‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß... ‡∏ô‡πâ‡∏≠‡∏á‡πÄ‡∏´‡∏°‡∏µ‡∏¢‡∏ß‡πÄ‡∏™‡∏µ‡∏¢‡πÉ‡∏à';
            gameMessage.classList.add('message-failure');
            stageInfo.textContent = '';
            
            // Disable and clear all answer buttons
            answerButtonsContainer.innerHTML = '';
            
            // Show restart button
            const restartButton = document.createElement('button');
            restartButton.textContent = '‡∏•‡∏≠‡∏á‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á';
            restartButton.classList.add('game-button');
            restartButton.addEventListener('click', initializeGame);
            answerButtonsContainer.appendChild(restartButton);

            announce('‡∏ô‡πâ‡∏≠‡∏á‡πÄ‡∏´‡∏°‡∏µ‡∏¢‡∏ß‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏™‡∏µ‡∏¢‡πÉ‡∏à. ‡∏†‡∏≤‡∏£‡∏Å‡∏¥‡∏à‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß... ‡∏ô‡πâ‡∏≠‡∏á‡πÄ‡∏´‡∏°‡∏µ‡∏¢‡∏ß‡πÄ‡∏™‡∏µ‡∏¢‡πÉ‡∏à. ‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏•‡∏≠‡∏á‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á.');
        }

        // Final completion message
        function completeGame() {
            isGameOver = true;
            catEmoji.textContent = 'üòª'; // Very happy cat
            gameMessage.textContent = '‡∏†‡∏≤‡∏£‡∏Å‡∏¥‡∏à‡∏™‡∏≥‡πÄ‡∏´‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß! ‡∏ô‡πâ‡∏≠‡∏á‡πÄ‡∏´‡∏°‡∏µ‡∏¢‡∏ß‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Å‡∏¥‡∏ô‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∏‡∏Ç';
            stageInfo.textContent = ''; // Clear stage info
            
            // Clear all buttons and only show the restart button
            answerButtonsContainer.innerHTML = '';
            const restartButton = document.createElement('button');
            restartButton.textContent = '‡πÄ‡∏•‡πà‡∏ô‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á?';
            restartButton.classList.add('game-button');
            restartButton.addEventListener('click', initializeGame);
            answerButtonsContainer.appendChild(restartButton);

            announce('‡∏†‡∏≤‡∏£‡∏Å‡∏¥‡∏à‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß ‡∏ô‡πâ‡∏≠‡∏á‡πÄ‡∏´‡∏°‡∏µ‡∏¢‡∏ß‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∏‡∏Ç‡∏°‡∏≤‡∏Å');
        }

        // Add event listener to the start button
        startButton.addEventListener('click', startMission);

        // Initial setup
        window.onload = initializeGame;
    </script>

</body>
</html>
